[{"authors":null,"categories":["Mathematics","R"],"content":"I was reading about the Hidden beauty of multiplication tables and I thought it could be fun to make some of the cool plots in that article with R. While we are at it, we can tweak some of them and play around with the tables to see what we get.\nThe multiplication table Consider the standard \\(10 \\times 10\\) multiplication table, with the first row and the first column taking the values \\(1\\) through \\(10\\), forming a grid with the corresponding products.\nlibrary(tidyverse) # Data frame with all the values of the 10x10 multiplication table multiplication_table \u0026lt;- tibble( x = 1:10, y = 1:10 ) %\u0026gt;% # Get all combination of x and y complete(x, y) %\u0026gt;% # Get the product of all combinations mutate(product = x * y) ggplot(multiplication_table, aes(x, y)) + geom_tile(color = \u0026quot;white\u0026quot;) + geom_text(aes(label = product), color = \u0026quot;white\u0026quot;) + # We want the table to start with 1 in the upper-left corner scale_y_continuous(trans = \u0026quot;reverse\u0026quot;) + # We want to always display the tables as squares coord_fixed() + theme_void() For purposes that we will see next, I am going to add a row and a column of zeros above and to the left of our table, respectively:\nmultiplication_table \u0026lt;- tibble( x = 0:10, y = 0:10 ) %\u0026gt;% complete(x, y) %\u0026gt;% mutate(product = x * y) ggplot(multiplication_table, aes(x, y)) + geom_tile(color = \u0026quot;white\u0026quot;) + geom_text(aes(label = product), color = \u0026quot;white\u0026quot;) + scale_y_continuous(trans = \u0026quot;reverse\u0026quot;) + coord_fixed() + theme_void() Next, we will discover some beautiful symmetries by coloring the rectangles of the multiplication table that correspond to multiples of a number \\(k\\) for various values of \\(k\\).\n Single multiples We say that \\(c\\) is a multiple of \\(k\\) if \\(c = n k\\) for some integer \\(n\\), which is called the multiplier. So we can tell if a given number \\(c\\) is a multiple of \\(k\\) if the division \\(c\\) over \\(k\\) has remainder 0.\nLet’s begin with \\(k = 2\\). I am going to color the cells corresponding to multiples of \\(2\\) in one color and non-multiples of \\(2\\) in another color. Check out the pattern it emerges:\nlibrary(wesanderson) m2 \u0026lt;- multiplication_table %\u0026gt;% mutate(multiple_of_2 = product %% 2 == 0) # Color palette chosen from the wesanderson package colors \u0026lt;- wes_palette(name = \u0026quot;Zissou1\u0026quot;, n = 2) ggplot(m2, aes(x, y)) + geom_tile(aes(fill = multiple_of_2), color = \u0026quot;white\u0026quot;) + geom_text(aes(label = product), color = \u0026quot;white\u0026quot;) + scale_y_continuous(trans = \u0026quot;reverse\u0026quot;) + coord_fixed() + scale_fill_manual(values = colors, name = \u0026quot;Multiple of 2?\u0026quot;, labels = c(\u0026quot;No\u0026quot;, \u0026quot;Yes\u0026quot;)) + theme_void() If we look closely we can see that the whole pattern above can be pieced together using the following fundamental block:\nblock_2 \u0026lt;- tibble( x = c(0,1), y = c(0,1) ) %\u0026gt;% complete(x, y) %\u0026gt;% distinct() %\u0026gt;% mutate(product = x * y, multiple = product %% 2 == 0) ggplot(block_2, aes(x, y)) + geom_tile(aes(fill = multiple), color = \u0026quot;white\u0026quot;) + scale_y_continuous(trans = \u0026quot;reverse\u0026quot;) + scale_fill_manual(values = colors, guide = FALSE) + theme_void() As Zoheir Barka explains in his article mentioned at the beginning, the fundamental building block contains \\(k \\times k = 2 \\times 2 = 4\\) cells of the multiplication table. The fact that, in the case of a single multiple, each side of the fundamental building block is \\(k\\) can be useful when plotting our tables.\nWe want to explore the patterns for different values of \\(k\\) so I created a simple function that plots a colored multiplication table for the supplied \\(k\\) and the supplied dimensions. Multiples and non-multiples are colored the same way as before so I chose to drop the legend for aesthetic reasons. I will add more arguments to this function later to easily customize the resulting table.\n# Auxiliary function to create a data frame # with the values of the multiplication table create_mtable \u0026lt;- function(xmax, ymax) { data.frame( x = 0:xmax, y = 0:ymax ) %\u0026gt;% complete(x, y) %\u0026gt;% mutate(product = x * y) } # Plot the colored table draw_pattern \u0026lt;- function(k, xmax, ymax) { # Colors chosen from the Zissou1 palette in the wesanderson package colors \u0026lt;- wesanderson::wes_palette(name = \u0026quot;Zissou1\u0026quot;, n = 2) tab \u0026lt;- create_mtable(xmax, ymax) %\u0026gt;% mutate(multiple = product %% k == 0) %\u0026gt;% ggplot(aes(x, y)) + geom_tile(aes(fill = multiple), color = \u0026quot;white\u0026quot;) + geom_text(aes(label = product), color = \u0026quot;white\u0026quot;) + scale_y_continuous(trans = \u0026quot;reverse\u0026quot;) + coord_fixed() + scale_fill_manual(values = colors) + theme_void() + guides(fill = FALSE) tab } We can now easily plot the colored tables for different values of \\(k\\) and see what patterns emerge:\ndraw_pattern(k = 4, xmax = 4 * 3, ymax = 4 * 3) + labs(title = \u0026quot;Multiples of 4\u0026quot;) draw_pattern(6, 6 * 2, 6 * 2) + labs(title = \u0026quot;Multiples of 6\u0026quot;) Notice that we set the “length” of each side of the tables to multiples of \\(k\\) so that the pattern is symmetric.\n Multiple multiples We can plot more interesting (and beautiful) patterns if we use multiple multiples, and corresponding to them, multiple colors.\nConsider the multiples of \\(k_1 = 2\\) and \\(k_2 = 3\\). I will color each square of the multiplication table according to the following criteria:\n Not multiple of neither 2 nor 3\n Multiple only of 2\n Multiple only of 3\n Multiple of both 2 and 3\n  multiple_multiples \u0026lt;- tibble( x = 0:12, y = 0:12 ) %\u0026gt;% complete(x, y) %\u0026gt;% mutate(product = x * y, m2 = product %% 2 == 0, m3 = product %% 3 == 0, inter = interaction(m2, m3)) %\u0026gt;% mutate(interaction = recode_factor(inter, FALSE.FALSE = \u0026quot;Multple of neither\u0026quot;, TRUE.FALSE = \u0026quot;Multiple of 2\u0026quot;, FALSE.TRUE = \u0026quot;Multiple of 3\u0026quot;, TRUE.TRUE = \u0026quot;Multiple of both\u0026quot;)) ggplot(multiple_multiples, aes(x, y)) + geom_tile(aes(fill = interaction), color = \u0026quot;white\u0026quot;) + geom_text(aes(label = product), color = \u0026quot;white\u0026quot;) + scale_fill_brewer(palette = \u0026quot;Pastel1\u0026quot;, name = element_blank()) + scale_y_continuous(trans = \u0026quot;reverse\u0026quot;) + coord_fixed() + theme_void() Notice that I used a \\(12 \\times 12\\) table so that I got a symmetric pattern. I did this because I knew that the fundamental building block is given by the least common multiple of \\(2\\) and \\(3\\). That is, in this case the fundamental block consists of \\(6 \\times 6 = 36\\) little cells.\n multable package I have created a simple R package out of this idea of coloring the factors of different numbers, called multable. You can install it with\n# install.packages(\u0026quot;devtools\u0026quot;) devtools::install_github(\u0026quot;solmos/multable\u0026quot;) As of now, the package contains just two functions:\n create_table() generates a data frame with the grid values and identifies the factors for different values of k\n draw_pattern() plots the multiplication table coloring the different cells according to what value of k a given cell is a factor of\n  Check out the code for these functions here. My plan is to add more functionality to this package but you can actually do some pretty cool visualizations as it is.\n  ","date":1541462400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1541462400,"objectID":"07751ebac12398d79e1288c868fb2268","permalink":"/post/2018-11-06-multiplication-table/multiplication-table-with-r/","publishdate":"2018-11-06T00:00:00Z","relpermalink":"/post/2018-11-06-multiplication-table/multiplication-table-with-r/","section":"post","summary":"I show how to visualize the patterns that emerge in the multiplication table and present an R package I have created for this purpose","tags":["R","Mathematics"],"title":"Exploring the multiplication table with R","type":"post"},{"authors":null,"categories":null,"content":" In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 \u0026hellip;\nTip 2 \u0026hellip;\n","date":1536444000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1536444000,"objectID":"6a451186c775f5f0adb3a0416d0cb711","permalink":"/tutorial/example/","publishdate":"2018-09-09T00:00:00+02:00","relpermalink":"/tutorial/example/","section":"tutorial","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 \u0026hellip;\nTip 2 \u0026hellip;","tags":null,"title":"Example Page","type":"docs"},{"authors":[],"categories":null,"content":"Click on the Slides button above to view the built-in slides feature.\n Slides can be added in a few ways:\n Create slides using Academic\u0026rsquo;s Slides feature and link using url_slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1483225200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1483225200,"objectID":"96344c08df50a1b693cc40432115cbe3","permalink":"/talk/example/","publishdate":"2017-01-01T00:00:00+01:00","relpermalink":"/talk/example/","section":"talk","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam.","tags":[],"title":"Example Talk","type":"talk"},{"authors":null,"categories":null,"content":"","date":1461708000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461708000,"objectID":"f3e2e8505a3f890c5ffe9840d37e8bb0","permalink":"/project/tfm/","publishdate":"2016-04-27T00:00:00+02:00","relpermalink":"/project/tfm/","section":"project","summary":"Master's thesis","tags":["statistics","linear mixed models","multilevel models","hierarchical models"],"title":"Analysis of clustered data using linear mixed models","type":"project"},{"authors":["GA Cushen"],"categories":null,"content":"More detail can easily be written here using Markdown and $\\rm \\LaTeX$ math code.\n","date":1441058400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1441058400,"objectID":"d77fa4a74076ffcd7ca6c21cfc27a4b2","permalink":"/publication/person-re-id/","publishdate":"2015-09-01T00:00:00+02:00","relpermalink":"/publication/person-re-id/","section":"publication","summary":"Person re-identification is a critical security task for recognizing a person across spatially disjoint sensors. Previous work can be computationally intensive and is mainly based on low-level cues extracted from RGB data and implemented on a PC for a fixed sensor network (such as traditional CCTV). We present a practical and efficient framework for mobile devices (such as smart phones and robots) where high-level semantic soft biometrics are extracted from RGB and depth data. By combining these cues, our approach attempts to provide robustness to noise, illumination, and minor variations in clothing. This mobile approach may be particularly useful for the identification of persons in areas ill-served by fixed sensors or for tasks where the sensor position and direction need to dynamically adapt to a target. Results on the BIWI dataset are preliminary but encouraging. Further evaluation and demonstration of the system will be available on our website.","tags":[],"title":"A Person Re-Identification System For Mobile Devices","type":"publication"},{"authors":["GA Cushen","MS Nixon"],"categories":null,"content":"More detail can easily be written here using Markdown and $\\rm \\LaTeX$ math code.\n","date":1372629600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1372629600,"objectID":"2b4d919e3cf73dfcd0063c88fe01cb00","permalink":"/publication/clothing-search/","publishdate":"2013-07-01T00:00:00+02:00","relpermalink":"/publication/clothing-search/","section":"publication","summary":"We present a mobile visual clothing search system whereby a smart phone user can either choose a social networking photo or take a new photo of a person wearing clothing of interest and search for similar clothing in a retail database. From the query image, the person is detected, clothing is segmented, and clothing features are extracted and quantized. The information is sent from the phone client to a server, where the feature vector of the query image is used to retrieve similar clothing products from online databases. The phone's GPS location is used to re-rank results by retail store location. State of the art work focuses primarily on the recognition of a diverse range of clothing offline and pays little attention to practical applications. Evaluated on a challenging dataset, the system is relatively fast and achieves promising results.","tags":[],"title":"Mobile visual clothing search","type":"publication"},{"authors":null,"categories":null,"content":" Welcome to Slides Academic\nFeatures  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides  Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E  Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)  Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = \\;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\nFragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}}  Press Space to play!\nOne  Two  Three \nA fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears  Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}}  Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view   Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links   night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links  Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/img/boards.jpg\u0026quot; \u0026gt;}} {{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}} {{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}  Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }  Questions? Ask\nDocumentation\n","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"c2915ec5da95791851caafdcba9664af","permalink":"/slides/example-slides/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/slides/example-slides/","section":"slides","summary":"Welcome to Slides Academic\nFeatures  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides  Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E  Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)  Math In-line math: $x + y = z$","tags":null,"title":"Slides","type":"slides"}]